<% liked = user_signed_in? && post.likes.exists?(user: current_user) %>

<% if liked %>
  <%= button_to post_like_path(post),
        method: :delete,
        class: "btn btn-sm btn-danger",
        form: { data: { turbo: true } } do %>
    <i class="fa-solid fa-heart"></i>
  <% end %>
<% else %>
  <%= button_to post_like_path(post),
        method: :post,
        class: "btn btn-sm btn-outline-danger",
        form: { data: { turbo: true } } do %>
    <i class="fa-regular fa-heart"></i>
  <% end %>
<% end %>
